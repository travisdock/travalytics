<div class="container">
  <div class="page-header">
    <h1 class="page-title">External Events</h1>
    <p class="page-subtitle">Track your marketing activities and external events</p>
    <div class="page-actions">
      <%= link_to "New External Event", new_external_event_path, class: "btn btn-primary" %>
    </div>
  </div>

  <% if @external_events.any? %>
    <div class="events-list">
      <table class="table">
        <thead>
          <tr>
            <th>Date</th>
            <th>Type</th>
            <th>Title</th>
            <th>Description</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @external_events.each do |event| %>
            <tr>
              <td><%= event.event_date.strftime("%b %d, %Y %I:%M %p") %></td>
              <td>
                <span class="badge" style="background-color: #e5e7eb; color: #374151; padding: 0.25rem 0.5rem; border-radius: 0.25rem;">
                  <%= event.event_type.humanize %>
                </span>
              </td>
              <td>
                <%= event.title %>
                <% if event.url.present? %>
                  <%= link_to "â†—", event.url, target: "_blank", rel: "noopener", style: "text-decoration: none; margin-left: 0.25rem;" %>
                <% end %>
              </td>
              <td><%= truncate(event.description, length: 100) %></td>
              <td>
                <%= link_to "Edit", edit_external_event_path(event), class: "btn btn-sm btn-outline" %>
                <%= button_to "Delete", external_event_path(event), 
                              method: :delete, 
                              data: { confirm: "Are you sure?" }, 
                              class: "btn btn-sm btn-outline-danger",
                              style: "display: inline;" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <div class="empty-state" style="text-align: center; padding: 3rem;">
      <p style="color: #6b7280; margin-bottom: 1rem;">No external events tracked yet.</p>
      <%= link_to "Create your first external event", new_external_event_path, class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
